<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Image2PDF & Format Converter â€” Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¬Ø§Ù†Ø§Ù‹ Ø¥Ù„Ù‰ PDF Ùˆ JPG Ùˆ PNG | 30+ Formats Converter</title>
<meta name="description" content="Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ù…Ø¬Ø§Ù†ÙŠ ÙˆØ³Ø±ÙŠØ¹ ÙŠØ¹Ù…Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­. ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¥Ù„Ù‰ PDFØŒ JPGØŒ PNGØŒ WebPØŒ ÙˆØºÙŠØ±Ù‡Ø§ Ù…Ù† 30 ØµÙŠØºØ© Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø®ØµÙˆØµÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ."/>

<meta name="keywords" lang="ar" content="ØªØ­ÙˆÙŠÙ„ ØµÙˆØ± Ø§Ù„Ù‰ pdf, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ù…Ø¬Ø§Ù†ÙŠ, ØªØºÙŠÙŠØ± ØµÙŠØº Ø§Ù„ØµÙˆØ±, Ù…Ø­ÙˆÙ„ jpg Ø§Ù„Ù‰ png, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ pdf, jpg Ø¥Ù„Ù‰ pdf, png Ø¥Ù„Ù‰ pdf, webp Ø¥Ù„Ù‰ jpg, ØªØ­ÙˆÙŠÙ„ ØµÙŠØº Ø§Ù„ØµÙˆØ± Ù…Ø¬Ø§Ù†Ø§, Ø§ÙØ¶Ù„ Ù…Ø­ÙˆÙ„ ØµÙˆØ±, Ø¶ØºØ· ØµÙˆØ± Ù„Ù€ pdf, Ø¯Ù…Ø¬ ØµÙˆØ± ÙÙŠ pdf, ØªØ¹Ø¯ÙŠÙ„ Ø­Ø¬Ù… ØµÙˆØ± Ù„Ù€ pdf, Ù…Ø­ÙˆÙ„ ØµÙŠØº, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø§Ø­ØªØ±Ø§ÙÙŠ, Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ jpg, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ png, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ webp, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ gif, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ tiff, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‰ bmp, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ± HEIC, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ÙƒØ³ÙŠÙƒÙŠØ©, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ± Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠØ©, ØªØ­Ù…ÙŠÙ„ Ù…Ø­ÙˆÙ„ ØµÙˆØ±, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø³Ø±ÙŠØ¹Ø©, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ± Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª, Ù…Ø­ÙˆÙ„ Ù…Ø­Ù„ÙŠ Ù„Ù„ØµÙˆØ±, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ù„Ù„Ø·Ø¨Ø§Ø¹Ø©, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©, ØªØ­ÙˆÙŠÙ„ ØµÙŠØºØ© jpg, ØªØ­ÙˆÙŠÙ„ ØµÙŠØºØ© png, Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø´Ø§Ù…Ù„, Ù…Ù„ÙØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù‰ pdf, Ù…Ø­ÙˆÙ„ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙˆØ±, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù‰ ÙˆØ«ÙŠÙ‚Ø©, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø¶ØºØ· Ø¹Ø§Ù„ÙŠ, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¬Ø§Ù†ÙŠ, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø±Ù‚Ù…ÙŠØ©, Ù…Ø­ÙˆÙ„ Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„ØµÙˆØ±, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ø§Ù…Ø¬, ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ± Ù„Ù„ÙˆÙŠØ¨, Ø§ÙØ¶Ù„ Ø§Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±, Ù…Ø­ÙˆÙ„ ØµÙˆØ± Ø§ÙˆÙ† Ù„Ø§ÙŠÙ†, ØªØ­ÙˆÙŠÙ„ ØµÙˆØ± Ø°Ø§Øª Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©, Ø£Ø¯Ø§Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØ±"/>

<meta name="keywords" lang="en" content="image to pdf converter, free image converter, change image format, jpg to png converter, convert images online, image to pdf free, jpg to pdf, png to pdf, webp to jpg, convert image formats for free, best image converter, compress images to pdf, merge images into pdf, resize images for pdf, format converter, professional image converter, image conversion tool, convert image to jpg, convert image to png, convert image to webp, convert image to gif, convert image to tiff, convert image to bmp, convert HEIC images, fast image converter, online image conversion tool, high-quality image converter, local image conversion, offline image converter, convert images for printing, batch image converter, multiple files to pdf, image format changer, convert images to document, high-compression image converter, free professional image converter, digital image converter, web image converter, best image conversion utility, online photo converter, high-resolution image conversion, image tool, convert photo to pdf, change picture format, free online tool"/>

<meta name="keywords" lang="ru" content="ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ² pdf, Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹, Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ jpg Ğ² png, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½, jpg Ğ² pdf, png Ğ² pdf, webp Ğ² jpg, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¾Ğ² Ñ„Ğ¾Ñ‚Ğ¾, Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½Ğ¾Ğº, ÑĞ¶Ğ°Ñ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ Ğ² pdf, Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ² pdf, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ heic, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾ Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾, ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ĞµÑ€ Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½"/>

<meta name="keywords" lang="es" content="convertidor de imagen a pdf, conversor de fotos gratis, cambiar formato de imagen, convertir jpg a png, convertir imÃ¡genes en lÃ­nea, jpg a pdf, png a pdf, webp a jpg, conversor de formatos de imagen, mejor conversor de imÃ¡genes, comprimir fotos a pdf, unir imÃ¡genes en pdf, convertir heic, herramienta de conversiÃ³n de fotos, conversor gratuito en lÃ­nea"/>

<meta name="keywords" lang="de" content="bild zu pdf konverter, kostenloser bildkonverter, bildformat Ã¤ndern, jpg zu png konvertieren, bilder online konvertieren, jpg zu pdf, png zu pdf, webp zu jpg, bildformat konverter, bester bildkonverter, bilder zu pdf komprimieren, bilder in pdf zusammenfÃ¼gen, heic konverter, kostenlose bildkonvertierung"/>

<meta name="keywords" lang="hi" content="à¤›à¤µà¤¿ à¤•à¥‹ à¤ªà¥€à¤¡à¥€à¤à¤« à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°, à¤®à¥à¤«à¥à¤¤ à¤›à¤µà¤¿ à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°, à¤›à¤µà¤¿ à¤ªà¥à¤°à¤¾à¤°à¥‚à¤ª à¤¬à¤¦à¤²à¥‡à¤‚, à¤œà¥‡à¤ªà¥€à¤ˆà¤œà¥€ à¤¸à¥‡ à¤ªà¥€à¤à¤¨à¤œà¥€ à¤•à¤¨à¤µà¤°à¥à¤Ÿ à¤•à¤°à¥‡à¤‚, à¤›à¤µà¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ à¤‘à¤¨à¤²à¤¾à¤‡à¤¨ à¤•à¤¨à¤µà¤°à¥à¤Ÿ à¤•à¤°à¥‡à¤‚, à¤œà¥‡à¤ªà¥€à¤ˆà¤œà¥€ à¤¸à¥‡ à¤ªà¥€à¤¡à¥€à¤à¤«, à¤ªà¥€à¤à¤¨à¤œà¥€ à¤¸à¥‡ à¤ªà¥€à¤¡à¥€à¤à¤«, à¤µà¥‡à¤¬à¤ªà¥€ à¤¸à¥‡ à¤œà¥‡à¤ªà¥€à¤ˆà¤œà¥€, à¤«à¥‹à¤Ÿà¥‹ à¤ªà¥à¤°à¤¾à¤°à¥‚à¤ª à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°, à¤¸à¤°à¥à¤µà¤¶à¥à¤°à¥‡à¤·à¥à¤  à¤›à¤µà¤¿ à¤•à¤¨à¤µà¤°à¥à¤Ÿà¤°, à¤›à¤µà¤¿à¤¯à¥‹à¤‚ à¤•à¥‹ à¤ªà¥€à¤¡à¥€à¤à¤« à¤®à¥‡à¤‚ à¤¸à¤‚à¤ªà¥€à¤¡à¤¼à¤¿à¤¤ à¤•à¤°à¥‡à¤‚"/>

<meta name="keywords" lang="zh" content="å›¾ç‰‡è½¬pdfè½¬æ¢å™¨, å…è´¹å›¾ç‰‡è½¬æ¢å™¨, æ›´æ”¹å›¾ç‰‡æ ¼å¼, jpgè½¬png, åœ¨çº¿å›¾ç‰‡è½¬æ¢, jpgè½¬pdf, pngè½¬pdf, webpè½¬jpg, å›¾åƒæ ¼å¼è½¬æ¢å™¨, æœ€ä½³å›¾ç‰‡è½¬æ¢å·¥å…·, å‹ç¼©å›¾ç‰‡ä¸ºpdf, heicè½¬æ¢å™¨, å…è´¹åœ¨çº¿å›¾ç‰‡è½¬æ¢"/>

<meta name="keywords" lang="fr" content="convertisseur image en pdf, convertisseur de photos gratuit, changer format image, convertir jpg en png, convertir images en ligne, jpg en pdf, png en pdf, webp en jpg, meilleur convertisseur d'images, compresser images en pdf, fusionner images en pdf, convertisseur heic, outil de conversion de photos en ligne"/>

<meta name="keywords" lang="pt-br" content="conversor de imagem para pdf, conversor de fotos grÃ¡tis, mudar formato de imagem, converter jpg para png, converter imagens online, jpg para pdf, png para pdf, webp para jpg, melhor conversor de imagem, comprimir imagens para pdf, juntar fotos em pdf, conversor heic, ferramenta de conversÃ£o de imagens"/>

<meta name="keywords" lang="es-mx" content="convertidor de foto a pdf, conversor de imagenes gratis, cambiar formato de foto, convertir jpg a png, convertir fotos en lÃ­nea, jpg a pdf, png a pdf, webp a jpg, mejor conversor de fotos, comprimir imagenes a pdf, juntar fotos en pdf, convertidor heic, herramienta de conversion de imagenes"/>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLMDJ8d/T/YpWJ8/H95lR/v3A/T+d/h9vE5cK5Ff5A/c/F4gR4J3gX2vG7I5B8Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
  :root{
    --bg1:#111111;
    --bg2:#000000;
    --card:#1a1a1a;
    --accent:#ffffff;
    --muted:#aaaaaa;
    --glass: rgba(255,255,255,0.05);
    --success:#10b981;
    --danger:#fb7185;
    --border: rgba(255,255,255,0.1);
    --hover-bg: rgba(255,255,255,0.08);
  }
  html:lang(en) { direction: ltr; }
  html:lang(en) body { font-family: "Roboto", sans-serif; }
  html:lang(ar) body { font-family: "Cairo", sans-serif; }
  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(180deg,var(--bg1),var(--bg2));
    color:var(--accent); -webkit-font-smoothing:antialiased; min-height:100vh;
    display:flex; align-items:flex-start; justify-content:center; padding:28px;
  }
  .app {
    width:100%; max-width:1100px; border-radius:14px;
    background:var(--glass);
    box-shadow: 0 10px 40px rgba(0,0,0,0.8); padding:22px; overflow:hidden;
    border:1px solid var(--border);
  }
  header{
    display:flex; gap:18px; align-items:center; justify-content:space-between; margin-bottom:18px;
  }
  .brand {display:flex; align-items:center}
  .logo{
    width:52px; height:52px; border-radius:10px; background:var(--accent);
    display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--bg2);font-size:18px;
    box-shadow:0 6px 18px rgba(0,0,0,0.4);
    overflow: hidden; padding: 2px;
  }
  .logo img {
      width: 100%; height: 100%; object-fit: contain; border-radius: 8px;
  }
  h1{font-size:20px;margin:0;color:var(--accent)}
  p.lead{margin:0;color:var(--muted);font-size:13px}
  .lang-toggle {
    background:var(--card); color:var(--accent); border:1px solid var(--border);
    padding:8px 12px; border-radius:8px; cursor:pointer; font-size:14px; font-weight:600;
    transition: background 0.2s;
  }
  .lang-toggle:hover { background:var(--hover-bg); }
  .main { display:grid; grid-template-columns: 420px 1fr; gap:20px; }
  .panel {
    background:var(--card); border-radius:12px; padding:16px; border:1px solid var(--border);
  }
  .tabs {display:flex; gap:8px; margin-bottom:12px}
  .tab{
    flex:1; padding:10px 12px; border-radius:8px; cursor:pointer; text-align:center; font-weight:600;
    background:transparent; color:var(--muted); border:1px solid var(--border);
    transition: all 0.2s;
  }
  .tab:hover{ background:var(--hover-bg); color:var(--accent)}
  .tab.active{ background:var(--hover-bg); color:var(--accent); border-color:var(--accent)}
  label.field{display:block; font-size:13px; color:var(--muted); margin-top:10px}
  select, input[type=text], button, input[type=range]{
    width:100%; padding:10px 12px; border-radius:8px; border:1px solid var(--border);
    background:var(--bg1); color:inherit; margin-top:8px; font-size:14px;
    appearance: none;
  }
  .file-input-wrapper {
    position: relative; overflow: hidden; display: block; margin-top: 8px;
    border:1px dashed var(--muted); border-radius:8px;
  }
  .file-input-wrapper input[type=file] {
    position: absolute; left: 0; top: 0; opacity: 0; cursor: pointer; height: 100%; width: 100%;
  }
  .file-input-wrapper span {
    display: block; padding: 10px 12px; text-align: center; color: var(--muted); font-size: 14px;
    background: var(--bg1);
  }
  .row{display:flex; gap:10px}
  .row > *{flex:1}
  button.primary{
    background:var(--accent); color:var(--bg2); padding:12px; font-weight:700;
    border:none; cursor:pointer; margin-top:12px; border-radius:10px;
    transition: background 0.2s, color 0.2s;
  }
  button.primary:hover{ background:var(--muted); }
  button.ghost{
    background:var(--card); border:1px solid var(--border); color:var(--accent);
    transition: background 0.2s;
  }
  button.ghost:hover{ background:var(--hover-bg); }
  .note{font-size:13px;color:var(--muted);margin-top:10px}
  .preview {
    background:var(--card);
    border-radius:12px; padding:16px; min-height:400px; border:1px solid var(--border);
  }
  .preview-head{display:flex; justify-content:space-between; align-items:center; margin-bottom:12px}
  .thumbs { display:flex; flex-wrap:wrap; gap:12px; }
  .thumb {
    width:120px; height:120px; border-radius:8px; overflow:hidden; position:relative; background:var(--bg1);
    border:1px solid var(--border); display:flex; align-items:center; justify-content:center;
    cursor:grab;
  }
  .thumb img{width:100%; height:100%; object-fit:cover}
  .thumb .meta {
    position:absolute; left:6px; bottom:6px; background:rgba(0,0,0,0.6); padding:4px 6px; border-radius:6px; font-size:11px;
    color:var(--accent);
  }
  .thumb .remove {
    position:absolute; right:6px; top:6px; background:rgba(255,255,255,0.1); color:var(--accent); padding:4px; border-radius:6px; font-size:12px; cursor:pointer;
    line-height: 1;
  }
  .thumb .remove:hover { background:var(--danger); }
  .icon-text-seprator {margin-inline-end: 6px;}
  .controls-row{display:flex; gap:10px; margin-top:12px}
  .small{font-size:13px;color:var(--muted)}
  footer{margin-top:18px; color:var(--muted); font-size:13px; text-align:center}

  /* ===================== */
  /* Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ */
  /* ===================== */
  @media (max-width:900px){
    body { padding: 16px; }
    .app { padding: 16px; }
    
    header {
      flex-direction: column; /* Ø¬Ø¹Ù„ Ø§Ù„Ø¹Ù†Ø§ØµØ± ØªØªØ±ØªØ¨ ÙÙˆÙ‚ Ø¨Ø¹Ø¶Ù‡Ø§ */
      align-items: flex-start; /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
      gap: 12px;
    }
    .main{
      grid-template-columns:1fr; /* Ø¹Ù…ÙˆØ¯ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· */
    }
    .panel{order:2} /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… ØªØ¸Ù‡Ø± Ø«Ø§Ù†ÙŠÙ‹Ø§ */
    .preview{order:1} /* Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø© ØªØ¸Ù‡Ø± Ø£ÙˆÙ„Ù‹Ø§ */

    /* Ø¬Ø¹Ù„ Ø§Ù„ØµÙÙˆÙ ØªØªØ­ÙˆÙ„ Ø¥Ù„Ù‰ Ø£Ø¹Ù…Ø¯Ø© */
    .row, .controls-row {
      flex-direction: column;
    }

    h1 { font-size: 18px; }
    p.lead { font-size: 12px; }
    
    .thumbs {
        justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø© */
    }

    /* ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø³ÙŠØ· Ø¹Ù„Ù‰ Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…ØµØºØ±Ø© Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø± */
    .thumb {
        width: 100px;
        height: 100px;
    }
  }

  /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ù‹Ø§ */
  @media (max-width: 480px) {
    body { padding: 8px; }
    .app { padding: 12px; }
    
    .preview-head {
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }

    .tab {
        font-size: 12px; /* ØªØµØºÙŠØ± Ø®Ø· Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        padding: 8px 10px;
    }
  }
/* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
.google-login-btn {
  /* Ù„Ø¶Ù…Ø§Ù† Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ù†Øµ ÙˆØ§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© */
  display: flex; 
  align-items: center;
  justify-content: center;
  gap: 8px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙˆØ§Ù„Ù†Øµ */
  
  /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ Ù„Ù„Ø²Ø± */
  background: var(--accent); /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø¨ÙŠØ¶ */
  color: var(--bg2); /* Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø³ÙˆØ¯ */
  padding: 10px 18px; 
  border-radius: 8px; 
  font-weight: 600; 
  cursor: pointer;
  font-size: 14px;
  border: 1px solid var(--border); /* Ø¥Ø¶Ø§ÙØ© Ø­Ø¯ Ø®ÙÙŠÙ */
  transition: background 0.2s, opacity 0.2s;
}

.google-login-btn:hover {
  background: var(--muted); /* Ù„ÙˆÙ† Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
}

/* Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ø¯Ù…Ø¬Ø© Ø¹Ø¨Ø± SVG data URL */
.google-icon {
  width: 18px; 
  height: 18px;
  /* âš ï¸ ÙŠØ¬Ø¨ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ background-image Ø£Ùˆ background-size Ù‡Ù†Ø§ */
}
/* ØªØ¹Ø¯ÙŠÙ„ Ø¨Ø³ÙŠØ· Ù„Ø¶Ù…Ø§Ù† Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø£ØµÙ„ÙŠ Ø¨Ø¹Ø¯ Ø­Ø°Ù Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
.brand {
  display: flex; 
  align-items: center;
  /* ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¶Ø§ÙØ© gap: 12px; Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø´Ø¹Ø§Ø± ÙˆØ²Ø± Ø¬ÙˆØ¬Ù„ */
  gap: 12px;
}

/* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media (max-width:900px){
  .google-login-btn {
      width: 100%; /* Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø²Ø± ÙŠÙ…Ù„Ø£ Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
  }
}
/* ====================================
     Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙˆØ±ØµÙŠØ¯ Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„
     ==================================== */
     
  /* Ù‚Ø§Ø¹Ø¯Ø© Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ù‚Ø¨Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ */
  .hidden { 
    display: none !important; 
  }

  /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ ÙƒÙƒÙ„ */
  .user-profile {
    display: flex; 
    gap: 10px; 
    align-items: center;
    background: var(--glass); 
    padding: 8px 12px; 
    border-radius: 20px;
    border: 1px solid var(--border);
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚ ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ */
  .profile-pic {
    width: 36px; 
    height: 36px; 
    border-radius: 50%; 
    object-fit: cover;
    border: 2px solid var(--success);
  }
  
  /* Ù…Ø­Ø§Ø°Ø§Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ±ØµÙŠØ¯ Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„ Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ */
  .user-info {
    display: flex; 
    flex-direction: column; 
    line-height: 1.2;
    align-items: flex-start;
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø§Ø³Ù… */
  .user-name {
    color: var(--accent); 
    font-weight: 600; 
    font-size: 14px;
    max-width: 100px; 
    white-space: nowrap; 
    overflow: hidden; 
    text-overflow: ellipsis;
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚ Ø±ØµÙŠØ¯ Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„ */
  .crystal-balance {
    display: flex; 
    align-items: center; 
    gap: 4px; 
    font-size: 13px;
  }
  .crystal-icon {
    width: 16px; 
    height: 16px;
  }
  
  /* Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ù„ÙˆÙ†ÙŠ Ù„Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ±ÙŠØ³ØªØ§Ù„ (Ø¨Ù†ÙØ³Ø¬ÙŠ Ù…ØªØ¯Ø±Ø¬ Ù…Ø¹ Ø§Ù„Ø£Ø²Ø±Ù‚) */
  .crystal-count {
    font-weight: 700;
    /* ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ù„ÙˆÙ†ÙŠ */
    background: linear-gradient(45deg, #a855f7, #6366f1, #3b82f6); 
    /* ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¯Ø±Ø¬ Ø¹Ù„Ù‰ Ø§Ù„Ù†Øµ */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent; 
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ */
  .logout-btn {
    background: none; 
    border: none; 
    color: var(--danger);
    font-size: 20px; 
    cursor: pointer; 
    transition: color 0.2s;
    padding: 0 5px; 
    margin-left: 5px;
  }
  .logout-btn:hover {
    color: #ff0000;
  }
  
  /* ØªÙ†Ø³ÙŠÙ‚ Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù„Ø¶Ù…Ø§Ù† Ù…Ø¸Ù‡Ø±Ù‡ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹) */
  .google-login-btn {
    display: flex; align-items: center; justify-content: center; gap: 10px;
    background: var(--accent); color: var(--bg2); padding: 8px 15px;
    border-radius: 8px; font-weight: 600; cursor: pointer; font-size: 14px;
    border: 1px solid var(--border); text-decoration: none;
  }
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ±">
    <header>
  <div class="brand">
    <div class="logo">
      <img src="https://i.ibb.co/zVQsZmHc/oe65gjzyswh7cuymlwqpu9tvc.webp" alt="Image2PDF Logo - Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ±" loading="lazy">
    </div>
    
    <a href="login.html" class="google-login-btn" id="preLoginBtn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Ø¬ÙˆØ¬Ù„">
      <img src="https://i.ibb.co/TqWpJLw9/1.png" alt="Google Icon" class="google-icon">
      <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Ø¬ÙˆØ¬Ù„</span>
    </a>
     <div id="userProfile" style="display: none; align-items: center; gap: 15px;">
    <img id="userAvatar" src="" alt="Avatar" style="width: 40px; height: 40px; border-radius: 50%;">
    <div style="color: white; font-weight: bold;" id="userName"></div>
    <div style="display: flex; align-items: center; gap: 5px;">
        <img src="https://i.ibb.co/FjbHMVk/5a35b404eb18.png" alt="Crystal" style="width: 18px; height: 18px;">
        <span id="crystalCount" style="font-weight: 700; background: linear-gradient(45deg, #a855f7, #3b82f6); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">20</span>
    </div>
    <button id="logoutBtn" style="background: var(--danger-color); color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: bold;">Ø®Ø±ÙˆØ¬</button>
</div>
    <div class="user-profile hidden" id="userProfileSection">
        <img src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" class="profile-pic" id="profilePic">
        <div class="user-info">
            <span class="user-name" id="userName">Ø§Ù„Ø§Ø³Ù…</span> 
            <div class="crystal-balance">
                <img src="https://i.ibb.co/FjbHMVk/5a35b404eb18.png" alt="ÙƒØ±ÙŠØ³ØªØ§Ù„" class="crystal-icon">
                <span class="crystal-count" id="crystalCount">20</span>
            </div>
        </div>
        
        <button class="logout-btn" id="logoutBtn" title="ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬">
            <i class="fas fa-sign-out-alt"></i>
        </button>
    </div>
    
  </div>
  <div class="meta" style="display:flex; gap:10px; align-items:center;">
    
    <a href="pro.html" class="google-login-btn hidden" id="upgradeBtn" style="background: #4dabf7; color: #000; padding: 8px 10px; text-decoration: none;">
        <i class="fas fa-crown"></i> 
        <span data-key="upgradeProText">Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø¥Ù„Ù‰ Pro</span>
    </a>
    
    <button class="lang-toggle" id="langToggle">
      <span id="langFlag">ğŸ‡¬ğŸ‡§</span> <span id="langText">English</span>
    </button>
    <div class="small" data-key="version">Ø§Ù„Ù†Ø³Ø®Ø©: <strong>1.0</strong></div>
</div>
</header>
    <div class="main">
      <div class="panel" aria-hidden="false">
        <div class="tabs" role="tablist">
          <div class="tab active" data-tab="pdf" data-key="tabPdf">Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©: ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF</div>
          <div class="tab" data-tab="convert" data-key="tabConvert">Ø®Ø¯Ù…Ø© Ø¥Ø¶Ø§ÙÙŠØ©: ØªØºÙŠÙŠØ± ØªØ±Ù…ÙŠØ² Ø§Ù„ØµÙˆØ±</div>
        </div>

        <div class="tab-content" id="pdf">
          <label class="field" data-key="labelPdfFiles"><i class="fas fa-folder-open icon-text-seprator"></i> Ø±ÙØ¹ ØµÙˆØ± (Ù…ØªØ¹Ø¯Ø¯) â€” Ø§Ø³Ø­Ø¨ ÙˆØ£Ø³Ù‚Ø· Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²</label>
          <div class="file-input-wrapper">
              <input id="pdfFiles" type="file" accept="image/*" multiple>
              <span data-key="chooseFileBtn">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª...</span>
          </div>

          <div class="row">
            <div>
              <label class="field" data-key="labelPageSize"><i class="fas fa-ruler-combined icon-text-seprator"></i> Ø­Ø¬Ù… Ø§Ù„ØµÙØ­Ø©</label>
              <select id="pageSize">
                <option value="a4">A4</option>
                <option value="letter">Letter</option>
                <option value="auto" data-key="autoOpt">ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ±Ø©</option>
              </select>
            </div>
            <div>
              <label class="field" data-key="labelOrientation"><i class="fas fa-compass icon-text-seprator"></i> Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©</label>
              <select id="orientation">
                <option value="p" data-key="portraitOpt">Ø¹Ù…ÙˆØ¯ÙŠ (Portrait)</option>
                <option value="l" data-key="landscapeOpt">Ø£ÙÙ‚ÙŠ (Landscape)</option>
                <option value="auto" data-key="autoOpt">ØªÙ„Ù‚Ø§Ø¦ÙŠ</option>
              </select>
            </div>
          </div>

          <label class="field" data-key="labelQuality"><i class="fas fa-compress-alt icon-text-seprator"></i> Ø¶ØºØ· ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØ± Ø¯Ø§Ø®Ù„ PDF (0 = Ø£Ù‚Ù„ Ø¬ÙˆØ¯Ø©ØŒ 1 = Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©)</label>
          <input id="qualityRange" type="range" min="0.2" max="1" step="0.05" value="0.9">

          <div class="controls-row">
            <button class="primary" id="convertPdfBtn" data-key="convertPdfBtn"><i class="fas fa-rocket icon-text-seprator"></i> ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF</button>
            <button class="ghost" id="clearPdfBtn" data-key="clearBtn"><i class="fas fa-broom icon-text-seprator"></i> Ù…Ø³Ø­ Ø§Ù„ØµÙˆØ±</button>
          </div>

          <div class="note" data-key="notePrivacy">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙŠØªÙ… Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¯Ø§Ø®Ù„ Ù…ØªØµÙØ­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©.</div>
        </div>

        <div class="tab-content" id="convert" style="display:none">
          <label class="field" data-key="labelConvFiles"><i class="fas fa-image icon-text-seprator"></i> Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£Ùˆ ØµÙˆØ± (Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØºØ©)</label>
          <div class="file-input-wrapper">
              <input id="convFiles" type="file" accept="image/*" multiple>
              <span data-key="chooseFileBtn">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª...</span>
          </div>

          <label class="field" data-key="labelTargetFormat"><i class="fas fa-exchange-alt icon-text-seprator"></i> Ø§Ø®ØªØ± Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù‡Ø¯Ù (ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ø£ÙƒØ«Ø±)</label>
          <select id="targetFormat" multiple size="6" title="ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ø£ÙƒØ«Ø±">
            <option value="image/jpeg">JPG / JPEG</option>
            <option value="image/png">PNG</option>
            <option value="image/webp">WebP</option>
            <option value="image/avif">AVIF</option>
            <option value="image/gif">GIF</option>
            <option value="image/bmp">BMP</option>
            <option value="image/tiff">TIFF</option>
            <option value="image/x-icon">ICO</option>
            <option value="image/svg+xml">SVG</option>
            <option value="image/heic">HEIC</option>
            <option value="image/heif">HEIF</option>
            <option value="application/pdf">PDF</option>
            <option value="image/vnd.adobe.photoshop">PSD (Not standard, but common)</option>
            <option value="image/jp2">JPEG 2000 (JP2)</option>
            <option value="image/jpx">JPEG 2000 (JPX)</option>
            <option value="image/x-portable-pixmap">PPM</option>
            <option value="image/x-portable-graymap">PGM</option>
            <option value="image/x-portable-bitmap">PBM</option>
            <option value="image/x-cmu-raster">RAS</option>
            <option value="image/x-rgb">RGB</option>
            <option value="image/vnd.dwg">DWG (Not standard)</option>
            <option value="image/vnd.dxf">DXF (Not standard)</option>
            <option value="image/vnd.wap.wbmp">WBMP</option>
            <option value="image/x-freehand">FH</option>
            <option value="image/x-mrsid-image">SID</option>
            <option value="image/cgm">CGM</option>
            <option value="image/cis-cod">COD</option>
            <option value="image/vnd.fujixerox.edmics-mmr">MMR</option>
            <option value="image/vnd.net-fpx">FPX</option>
            <option value="image/vnd.ms-modi">MDI</option>
          </select>

          <label class="field" data-key="labelConvName"><i class="fas fa-file-signature icon-text-seprator"></i> Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù†Ø§ØªØ¬ (Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø­Ù‚Ø© Ø§Ù„ØµÙŠØºØ© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§)</label>
          <input id="convName" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹: my-converted-image">

          <div class="controls-row">
            <button class="primary" id="convertFormatBtn" data-key="convertFormatBtn"><i class="fas fa-sync-alt icon-text-seprator"></i> ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</button>
            <button class="ghost" id="clearConvBtn" data-key="clearBtn"><i class="fas fa-broom icon-text-seprator"></i> Ù…Ø³Ø­</button>
          </div>

          <div class="note" data-key="noteConvSupport">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ Ø§Ù„ØµÙŠØº ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­. Ø¥Ù† Ù„Ù… ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„ØµÙŠØºØ©ØŒ Ø³ÙŠØ¸Ù‡Ø± Ø¥Ø´Ø¹Ø§Ø± ÙŠØ·Ù„Ø¨ ØªØ¬Ø±Ø¨Ø© ØµÙŠØº Ø£Ø®Ø±Ù‰ (Ù…Ø«Ù„ JPG Ø£Ùˆ PNG).</div>
        </div>
      </div>

      <div class="preview" id="previewArea" aria-live="polite">
        <div class="preview-head">
          <div>
            <strong id="previewTitle" data-key="previewTitle">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±</strong>
            <div class="small" id="previewCount" data-key="previewCountEmpty">Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ ØµÙˆØ± Ø¨Ø¹Ø¯</div>
          </div>
          <div>
            <button class="ghost" id="downloadAllBtn" data-key="downloadAllBtn"><i class="fas fa-download icon-text-seprator"></i> ØªÙ†Ø²ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
          </div>
        </div>

        <div class="thumbs" id="thumbs"></div>

        <div id="statusMsg" class="note" style="margin-top:12px"></div>
      </div>
    </div>

    <footer data-key="footer">Â© 2025 Image2PDF â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>
  </div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
/* ======= Utilities & State ======= */
const el = id => document.getElementById(id);
const $thumbs = el('thumbs');
const state = { filesPdf: [], filesConv: [], lang: 'ar' };

/* ======= Translation Data ======= */
const translations = {
  ar: {
    appName: 'Image2PDF â€” Ù…Ø­ÙˆÙ„ Ø§Ù„ØµÙˆØ± Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ',
    appTagline: 'Ø®Ø¯Ù…Ø© Ù…Ø­Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­ â€” ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF & ØªØºÙŠÙŠØ± ØªØ±Ù…ÙŠØ² Ø§Ù„ØµÙˆØ±',
    version: 'Ø§Ù„Ù†Ø³Ø®Ø©: 1.0',
    upgradeProText: 'Ø§Ù„ØªØ±Ù‚ÙŠØ© Ø¥Ù„Ù‰ Pro'
    tabPdf: 'Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©: ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF',
    tabConvert: 'Ø®Ø¯Ù…Ø© Ø¥Ø¶Ø§ÙÙŠØ©: ØªØºÙŠÙŠØ± ØªØ±Ù…ÙŠØ² Ø§Ù„ØµÙˆØ±',
    labelPdfFiles: 'Ø±ÙØ¹ ØµÙˆØ± (Ù…ØªØ¹Ø¯Ø¯) â€” Ø§Ø³Ø­Ø¨ ÙˆØ£Ø³Ù‚Ø· Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ø¬Ù‡Ø§Ø²',
    labelPageSize: 'Ø­Ø¬Ù… Ø§Ù„ØµÙØ­Ø©',
    labelOrientation: 'Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø©',
    autoOpt: 'ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ±Ø©',
    portraitOpt: 'Ø¹Ù…ÙˆØ¯ÙŠ (Portrait)',
    landscapeOpt: 'Ø£ÙÙ‚ÙŠ (Landscape)',
    labelQuality: 'Ø¶ØºØ· ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØ± Ø¯Ø§Ø®Ù„ PDF (0 = Ø£Ù‚Ù„ Ø¬ÙˆØ¯Ø©ØŒ 1 = Ø£Ø¹Ù„Ù‰ Ø¬ÙˆØ¯Ø©)',
    convertPdfBtn: 'ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF',
    clearBtn: 'Ù…Ø³Ø­',
    notePrivacy: 'Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙŠØªÙ… Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¯Ø§Ø®Ù„ Ù…ØªØµÙØ­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©.',
    labelConvFiles: 'Ø§Ø®ØªØ± ØµÙˆØ±Ø© Ø£Ùˆ ØµÙˆØ± (Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØºØ©)',
    chooseFileBtn: 'Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„ÙØ§Øª...',
    labelTargetFormat: 'Ø§Ø®ØªØ± Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù‡Ø¯Ù (ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø®ØªÙŠØ§Ø± ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ø£ÙƒØ«Ø±)',
    labelConvName: 'Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù†Ø§ØªØ¬ (Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø­Ù‚Ø© Ø§Ù„ØµÙŠØºØ© ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§)',
    convertFormatBtn: 'ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©',
    noteConvSupport: 'Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø¹Ø¶ Ø§Ù„ØµÙŠØº ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­. Ø¥Ù† Ù„Ù… ÙŠØ¯Ø¹Ù… Ø§Ù„Ù…ØªØµÙØ­ Ø§Ù„ØµÙŠØºØ©ØŒ Ø³ÙŠØ¸Ù‡Ø± Ø¥Ø´Ø¹Ø§Ø± ÙŠØ·Ù„Ø¨ ØªØ¬Ø±Ø¨Ø© ØµÙŠØº Ø£Ø®Ø±Ù‰ (Ù…Ø«Ù„ JPG Ø£Ùˆ PNG).',
    previewTitle: 'Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„ØµÙˆØ±',
    previewCountEmpty: 'Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ ØµÙˆØ± Ø¨Ø¹Ø¯',
    previewCount: (count) => `Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ±: ${count}`,
    downloadAllBtn: 'ØªÙ†Ø²ÙŠÙ„ ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬',
    statusNoFiles: 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø±ÙØ¹ ØµÙˆØ± Ø£ÙˆÙ„Ø§Ù‹.',
    statusPdfConverting: 'â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ PDF...',
    statusPdfDone: 'âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF ÙˆØªÙ†Ø²ÙŠÙ„Ù‡.',
    statusPdfError: (err) => `âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­ÙˆÙŠÙ„: ${err}`,
    statusConvStart: 'â³ Ø¬Ø§Ø±ÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØº...',
    statusConvNoFormat: 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± ØµÙŠØºØ© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.',
    statusConvDone: 'âœ… Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ØªØ­ÙˆÙŠÙ„. Ø§Ù„Ù…Ù„ÙØ§Øª ØªÙ… ØªÙ†Ø²ÙŠÙ„Ù‡Ø§ (Ø¥Ø°Ø§ Ø³Ù…Ø­ Ø§Ù„Ù…ØªØµÙØ­).',
    statusConvFormatError: (fmt) => `âš ï¸ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ ${fmt}. Ø¬Ø±Ù‘Ø¨ ØµÙŠØºØ© Ø£Ø®Ø±Ù‰ (Ù…Ø«Ù„ JPG Ø£Ùˆ PNG).`,
    statusConvError: (err) => `âŒ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙŠØº: ${err}`,
    statusClearedPdf: 'ØªÙ… Ù…Ø³Ø­ ØµÙˆØ± PDF.',
    statusClearedConv: 'ØªÙ… Ù…Ø³Ø­ ØµÙˆØ± Ø§Ù„ØªØ­ÙˆÙŠÙ„.',
    statusDownloadNote: 'Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…ØªØ§Ø­ Ù„Ù„Ù†ØªØ§Ø¦Ø¬ Ø­Ø§Ù„Ù…Ø§ ØªÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ„.',
    statusWelcome: 'Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø§Ø®ØªØ± ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø®Ø¯Ù…Ø© Ø«Ù… Ø§Ø±ÙØ¹ ØµÙˆØ±Ùƒ. ÙŠÙ…ÙƒÙ†Ùƒ Ø³Ø­Ø¨ Ø§Ù„ØµÙˆØ± Ù„Ø¥Ø¹Ø§Ø¯Ø© ØªØ±ØªÙŠØ¨Ù‡Ø§.',
    placeholderConvName: 'Ù…Ø«Ù„Ø§Ù‹: my-converted-image',
    footer: 'Â© 2025 Image2PDF â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©',
    langFlag: 'ğŸ‡¬ğŸ‡§',
    langText: 'English'
  },
  en: {
    appName: 'Image2PDF â€” Professional Image Converter',
    appTagline: 'Local Browser Service â€” Convert to PDF & Image Format Encoding',
    version: 'Version: 1.0',
    upgradeProText: 'Upgrade to Pro'
    tabPdf: 'Key Feature: Convert to PDF',
    tabConvert: 'Extra Service: Image Format Conversion',
    labelPdfFiles: 'Upload Images (Multi) â€” Drag and Drop or Choose from Device',
    labelPageSize: 'Page Size',
    labelOrientation: 'Page Orientation',
    autoOpt: 'Auto (Based on Image)',
    portraitOpt: 'Portrait',
    landscapeOpt: 'Landscape',
    labelQuality: 'Image Compression & Quality in PDF (0 = Lowest, 1 = Highest)',
    convertPdfBtn: 'Convert to PDF',
    clearBtn: 'Clear',
    notePrivacy: 'Note: Conversion is done locally within your browser to ensure privacy.',
    labelConvFiles: 'Choose Image(s) (For Format Conversion)',
    chooseFileBtn: 'Choose Files...',
    labelTargetFormat: 'Select Target Format (You can choose one or more)',
    labelConvName: 'Output File Name (Format suffix will be added automatically)',
    convertFormatBtn: 'Convert Selected Formats',
    noteConvSupport: 'Note: Some formats depend on browser support. If not supported, an alert will ask you to try other formats (e.g., JPG or PNG).',
    previewTitle: 'Image Preview',
    previewCountEmpty: 'No images uploaded yet',
    previewCount: (count) => `Image Count: ${count}`,
    downloadAllBtn: 'Download All Results',
    statusNoFiles: 'âš ï¸ Please upload images first.',
    statusPdfConverting: 'â³ Converting to PDF...',
    statusPdfDone: 'âœ… PDF file created and downloaded.',
    statusPdfError: (err) => `âŒ Error during conversion: ${err}`,
    statusConvStart: 'â³ Converting Formats...',
    statusConvNoFormat: 'âš ï¸ Please select at least one format.',
    statusConvDone: 'âœ… Conversion complete. Files downloaded (if allowed by browser).',
    statusConvFormatError: (fmt) => `âš ï¸ Browser does not support conversion to ${fmt}. Try another format (like JPG or PNG).`,
    statusConvError: (err) => `âŒ Error during format conversion: ${err}`,
    statusClearedPdf: 'PDF images cleared.',
    statusClearedConv: 'Conversion images cleared.',
    statusDownloadNote: 'Note: Automatic download is available for results once conversion is ready.',
    statusWelcome: 'Welcome! Select the service tab, then upload your images. You can drag images to reorder them.',
    placeholderConvName: 'e.g.: my-converted-image',
    footer: 'Â© 2025 Image2PDF â€” All Rights Reserved',
    langFlag: 'ğŸ‡¸ğŸ‡¦',
    langText: 'Arabic'
  }
};

function applyTranslation(lang) {
  const t = translations[lang];
  document.documentElement.lang = lang;
  document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

  document.querySelectorAll('[data-key]').forEach(el => {
    const key = el.dataset.key;
    if (t[key]) {
      if (el.tagName === 'INPUT' && el.type === 'text') {
        el.placeholder = t[key];
      } else {
        el.textContent = typeof t[key] === 'function' ? t[key](0) : t[key];
      }
    }
  });

  el('langFlag').textContent = t.langFlag;
  el('langText').textContent = t.langText;
  
  const currentFiles = document.querySelector('.tab.active').dataset.tab === 'pdf' ? state.filesPdf : state.filesConv;
  el('previewCount').textContent = currentFiles.length ? t.previewCount(currentFiles.length) : t.previewCountEmpty;
  
  el('statusMsg').textContent = t.statusWelcome;
  el('convName').placeholder = t.placeholderConvName;
}

el('langToggle').addEventListener('click', () => {
  state.lang = state.lang === 'ar' ? 'en' : 'ar';
  applyTranslation(state.lang);
});

/* ======= Tabs ======= */
document.querySelectorAll('.tab').forEach(t => {
  t.addEventListener('click', () => {
    document.querySelectorAll('.tab').forEach(x => x.classList.remove('active'));
    t.classList.add('active');
    const tab = t.dataset.tab;
    document.querySelectorAll('.tab-content').forEach(c => c.style.display = c.id === tab ? '' : 'none');
    el('statusMsg').textContent = translations[state.lang].statusWelcome;
    
    // Render correct thumbs for the active tab
    renderThumbs(tab === 'pdf' ? state.filesPdf : state.filesConv);
  });
});

/* ======= File inputs handlers ======= */
function handleFileChange(ev, fileType) {
    const files = Array.from(ev.target.files);
    state[fileType] = files;
    renderThumbs(files);

    const span = ev.target.nextElementSibling;
    const t = translations[state.lang];
    if (files.length) {
        span.textContent = files.length > 1
            ? `${files.length} ${state.lang === 'ar' ? 'Ù…Ù„ÙØ§Øª Ù…Ø®ØªØ§Ø±Ø©' : 'files selected'}`
            : files[0].name;
    } else {
        span.textContent = t.chooseFileBtn;
    }
}

el('pdfFiles').addEventListener('change', (ev) => handleFileChange(ev, 'filesPdf'));
el('convFiles').addEventListener('change', (ev) => handleFileChange(ev, 'filesConv'));

/* ======= Render thumbnails ======= */
function renderThumbs(list) {
  $thumbs.innerHTML = '';
  const t = translations[state.lang];
  const activeTab = document.querySelector('.tab.active').dataset.tab;
  const currentListKey = activeTab === 'pdf' ? 'filesPdf' : 'filesConv';

  if (!list || list.length === 0) {
    el('previewCount').textContent = t.previewCountEmpty;
    return;
  }
  el('previewCount').textContent = t.previewCount(list.length);
  
  list.forEach((file, idx) => {
    const box = document.createElement('div');
    box.className = 'thumb';
    box.draggable = true;
    box.dataset.index = idx;
    
    const imgEl = document.createElement('img');
    const reader = new FileReader();
    reader.onload = e => { imgEl.src = e.target.result; };
    reader.readAsDataURL(file);

    const meta = document.createElement('div');
    meta.className = 'meta';
    meta.textContent = file.name.split('.').pop().toUpperCase();

    const rem = document.createElement('div');
    rem.className = 'remove';
    rem.innerHTML = '<i class="fas fa-times"></i>';
    rem.title = state.lang === 'ar' ? 'Ø¥Ø²Ø§Ù„Ø©' : 'Remove';
    rem.onclick = (ev) => {
      ev.stopPropagation();
      list.splice(idx,1);
      state[currentListKey] = [...list];
      
      const fileInputId = activeTab === 'pdf' ? 'pdfFiles' : 'convFiles';
      const fileInputWrapperSelector = `#${activeTab} .file-input-wrapper span`;

      el(fileInputId).value = ''; // Clear file input
      document.querySelector(fileInputWrapperSelector).textContent = t.chooseFileBtn;
      
      renderThumbs(list);
    };

    box.appendChild(imgEl);
    box.appendChild(meta);
    box.appendChild(rem);
    $thumbs.appendChild(box);
  });

  enableDragReorder(list);
}

/* ======= Drag reorder ======= */
function enableDragReorder(list){
  let dragSrc = null;
  $thumbs.querySelectorAll('.thumb').forEach(t => {
    t.addEventListener('dragstart', (e) => { dragSrc = e.currentTarget; e.dataTransfer.effectAllowed = 'move'; });
    t.addEventListener('dragover', (e) => { e.preventDefault(); });
    t.addEventListener('drop', (e) => {
      e.preventDefault();
      const target = e.currentTarget.closest('.thumb');
      if (!target || !dragSrc || target === dragSrc) return;
      
      const srcIndex = +dragSrc.dataset.index;
      const tgtIndex = +target.dataset.index;
      
      [list[srcIndex], list[tgtIndex]] = [list[tgtIndex], list[srcIndex]];
      renderThumbs(list);
    });
  });
}

/* ======= PDF conversion ======= */
el('convertPdfBtn').addEventListener('click', async () => {
  const t = translations[state.lang];
  const files = state.filesPdf;
  if (!files || files.length === 0) { el('statusMsg').textContent = t.statusNoFiles; return; }

  el('statusMsg').textContent = t.statusPdfConverting;
  const pageSize = el('pageSize').value;
  let orientation = el('orientation').value;
  const quality = parseFloat(el('qualityRange').value);

  try {
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ unit:'mm', format: pageSize === 'auto' ? 'a4' : pageSize, orientation: orientation === 'auto' ? 'p' : orientation });

    for (const [index, file] of files.entries()) {
        const dataURL = await fileToDataURL(file);
        const img = await loadImage(dataURL);

        let pageOrient = orientation === 'auto' ? (img.width > img.height ? 'l' : 'p') : orientation;
        
        if (index > 0) {
            pdf.addPage(pageSize === 'auto' ? [img.width, img.height] : pageSize, pageOrient);
        } else {
            // For the first page, if orientation changed, we need to re-init or adjust
            if (pdf.internal.pageSize.width < pdf.internal.pageSize.height && pageOrient === 'l') {
                pdf.internal.pageSize.width = [pdf.internal.pageSize.height, pdf.internal.pageSize.height = pdf.internal.pageSize.width][0];
            } else if (pdf.internal.pageSize.width > pdf.internal.pageSize.height && pageOrient === 'p') {
                pdf.internal.pageSize.width = [pdf.internal.pageSize.height, pdf.internal.pageSize.height = pdf.internal.pageSize.width][0];
            }
        }

        const pageW = pdf.internal.pageSize.getWidth();
        const pageH = pdf.internal.pageSize.getHeight();
        const margin = 8;
        const maxW = pageW - margin*2;
        const maxH = pageH - margin*2;

        const imgRatio = img.width / img.height;
        let drawW = maxW, drawH = maxW / imgRatio;
        if (drawH > maxH) { drawH = maxH; drawW = maxH * imgRatio; }

        const imgForPdf = await imageToDataURL(img, 'image/jpeg', quality);
        pdf.addImage(imgForPdf, 'JPEG', (pageW - drawW)/2, (pageH - drawH)/2, drawW, drawH);
    }

    pdf.save('images_converted.pdf');
    el('statusMsg').textContent = t.statusPdfDone;
  } catch (err) {
    console.error(err);
    el('statusMsg').textContent = t.statusPdfError(err.message || err);
  }
});

/* ======= Format conversion ======= */
el('convertFormatBtn').addEventListener('click', async () => {
  const t = translations[state.lang];
  const files = state.filesConv;
  if (!files || files.length === 0) { el('statusMsg').textContent = t.statusNoFiles; return; }

  const selected = Array.from(el('targetFormat').selectedOptions).map(o=>o.value);
  if (selected.length === 0) { el('statusMsg').textContent = t.statusConvNoFormat; return; }

  const baseName = el('convName').value.trim() || 'converted-image';
  el('statusMsg').textContent = t.statusConvStart;

  try {
    for (const file of files) {
      const dataURL = await fileToDataURL(file);
      const img = await loadImage(dataURL);

      for (const fmt of selected) {
        const ext = extFromMime(fmt);
        try {
          const blob = await imageToBlob(img, fmt);
          triggerDownload(blob, `${baseName}_${file.name.split('.').slice(0, -1).join('.')}.${ext}`);
        } catch (e) {
          console.warn('format unsupported:', fmt, e);
          el('statusMsg').textContent = t.statusConvFormatError(fmt.split('/').pop());
        }
      }
    }
    el('statusMsg').textContent = t.statusConvDone;
  } catch (err) {
    console.error(err);
    el('statusMsg').textContent = t.statusConvError(err.message || err);
  }
});

/* ======= Helpers ======= */
function fileToDataURL(file){ return new Promise((res,rej)=>{ const r=new FileReader(); r.onload=e=>res(e.target.result); r.onerror=rej; r.readAsDataURL(file); }); }
function loadImage(src){ return new Promise((res,rej)=>{ const img=new Image(); img.onload=()=>res(img); img.onerror=rej; img.src = src; }); }
function extFromMime(m){
    const map = {'image/jpeg':'jpg','image/png':'png','image/webp':'webp','image/avif':'avif','image/gif':'gif','image/bmp':'bmp','image/tiff':'tiff','image/x-icon':'ico','image/svg+xml':'svg','image/heic':'heic','image/heif':'heif','application/pdf':'pdf','image/vnd.adobe.photoshop': 'psd','image/jp2': 'jp2','image/jpx': 'jpx','image/x-portable-pixmap': 'ppm','image/x-portable-graymap': 'pgm','image/x-portable-bitmap': 'pbm','image/x-cmu-raster': 'ras','image/x-rgb': 'rgb','image/vnd.dwg': 'dwg','image/vnd.dxf': 'dxf','image/vnd.wap.wbmp': 'wbmp','image/x-freehand': 'fh','image/x-mrsid-image': 'sid','image/cgm': 'cgm','image/cis-cod': 'cod','image/vnd.fujixerox.edmics-mmr': 'mmr','image/vnd.net-fpx': 'fpx','image/vnd.ms-modi': 'mdi'};
    return map[m]||m.split('/').pop();
}
function imageToBlob(img, mime='image/png', quality=0.92){
  return new Promise((res,rej)=>{
    const canvas = document.createElement('canvas');
    canvas.width = img.naturalWidth || img.width;
    canvas.height = img.naturalHeight || img.height;
    const ctx = canvas.getContext('2d');
    ctx.drawImage(img,0,0);
    canvas.toBlob((blob)=>{ if(blob) res(blob); else rej(new Error('toBlob failed')); }, mime, quality);
  });
}
async function imageToDataURL(img, mime='image/jpeg', quality=0.92){
  const blob = await imageToBlob(img, mime, quality);
  return await new Promise(res => { const r=new FileReader(); r.onload=e=>res(e.target.result); r.readAsDataURL(blob); });
}
function triggerDownload(blob, filename){
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = filename; document.body.appendChild(a); a.click();
  setTimeout(()=>{ URL.revokeObjectURL(url); a.remove(); }, 1000);
}

/* ======= Clear buttons ======= */
el('clearPdfBtn').addEventListener('click', ()=>{
  const t = translations[state.lang];
  state.filesPdf = []; el('pdfFiles').value=''; renderThumbs([]);
  el('statusMsg').textContent = t.statusClearedPdf;
  document.querySelector('#pdf .file-input-wrapper span').textContent = t.chooseFileBtn;
});
el('clearConvBtn').addEventListener('click', ()=>{
  const t = translations[state.lang];
  state.filesConv = []; el('convFiles').value=''; el('convName').value=''; renderThumbs([]);
  el('statusMsg').textContent = t.statusClearedConv;
  document.querySelector('#convert .file-input-wrapper span').textContent = t.chooseFileBtn;
});

/* ======= download all btn ======= */
el('downloadAllBtn').addEventListener('click', ()=>{
  el('statusMsg').textContent = translations[state.lang].statusDownloadNote;
});

/* ======= Drag & Drop file support ======= */
const dropArea = document.querySelector('.app');
dropArea.addEventListener('dragover', e=>e.preventDefault());
dropArea.addEventListener('drop', e=>{ e.preventDefault();
  const files = Array.from(e.dataTransfer.files || []).filter(f=>f.type.startsWith('image/'));
  if(files.length > 0){
      const activeTab = document.querySelector('.tab.active').dataset.tab;
      if (activeTab === 'pdf') {
        state.filesPdf = state.filesPdf.concat(files);
        renderThumbs(state.filesPdf);
      } else {
        state.filesConv = state.filesConv.concat(files);
        renderThumbs(state.filesConv);
      }
  }
});

    const SUPABASE_URL = "https://vayuuzbcgemrlgvmktzl.supabase.co";

    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZheXV1emJjZ2Vtcmxndm1rdHpsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NDA4MDQsImV4cCI6MjA3NjAxNjgwNH0.yQIuNEb8QRBOaSGW0cKB8cQvPpZMWG7T_0gnufjVa0g";

    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);



    document.addEventListener('DOMContentLoaded', async () => {

        const { data: { session } } = await supabase.auth.getSession();

        updateUI(session);



        supabase.auth.onAuthStateChange((event, session) => {
    // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø­Ø¯Ø« Ù‡Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù†Ø§Ø¬Ø­ (SIGNED_IN)
    if (event === 'SIGNED_IN') {
        // Ø§Ù†ØªØ¸Ø± Ù„Ø­Ø¸Ø© Ù‚ØµÙŠØ±Ø© Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø¬Ù„Ø³Ø© Ø«Ù… Ø§Ù†ØªÙ‚Ù„ Ø¥Ù„Ù‰ home.html
        setTimeout(() => {
            window.location.href = 'home.html';
        }, 100);
    } else {
        // ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ (Ù…Ø«Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬)ØŒ Ù‚Ù… ÙÙ‚Ø· Ø¨ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        updateUI(session);
    }
});



    function updateUI(session) {

        const loginButton = document.querySelector('.google-login-button, #preLoginBtn, #google-sign-in-btn');

        const userProfile = document.getElementById('userProfile');



        if (session) {

            // User is logged in

            loginButton.style.display = 'none';

            userProfile.style.display = 'flex';



            const user = session.user;

            const userName = user.user_metadata?.full_name || user.email.split('@')[0];

            const userAvatar = user.user_metadata?.avatar_url || 'https://i.ibb.co/qCbQ2Yc/default-avatar.png';



            document.getElementById('userName').textContent = userName;

            document.getElementById('userAvatar').src = userAvatar;

            // Crystal count is static for now

            // document.getElementById('crystalCount').textContent = '20';



            document.getElementById('logoutBtn').onclick = async () => {

                await supabase.auth.signOut();

                window.location.reload(); // Reload to show login button again

            };

        } else {

            // User is logged out

            loginButton.style.display = 'flex';

            userProfile.style.display = 'none';

        }

    }

/* ======= On load ======= */
applyTranslation(state.lang);
</script>
</body>
</html>